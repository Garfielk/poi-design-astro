---
import '@/styles/index.css';
// Component Imports
import IndexPage from "@/components/index/Index.tsx"
import { getAlternatePath } from '@/i18n/utils';

export const prerender = true;

// 定义语言数据
const translations = {
	en: {
		title: 'About Us',
		content: 'Welcome to our company site! We value innovation and quality.',
	},
	'zh-CN': {
		title: '关于我们',
		content: '欢迎来到我们的网站！我们重视创新与品质。',
	},
};

// 生成静态路径（SSG 多语言）
export async function getStaticPaths() {
	return [
		{ params: { lang: undefined }, props: { lang: 'en' } },
		{ params: { lang: 'zh-CN' }, props: { lang: 'zh-CN' } },
	];
}

const { lang } = Astro.props as {lang: 'en' | 'zh-CN'};
const t = translations[lang];

const currentPath = Astro.url.pathname;
const fullUrl = Astro.url.href;
const searchParams = Astro.url.searchParams;

const alternatePath =
	lang === 'en'
		? getAlternatePath(currentPath, 'zh-CN')
		: getAlternatePath(currentPath, 'en');

console.log('当前路径:', currentPath);
console.log('完整 URL:', fullUrl);
---

<html lang={lang}>
<head>
	<meta charset="utf-8" />
	<title>{t.title}</title>
</head>
<body>
<IndexPage client:load />
</body>
</html>
